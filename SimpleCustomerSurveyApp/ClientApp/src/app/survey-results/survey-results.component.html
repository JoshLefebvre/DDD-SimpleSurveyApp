<p *ngIf="!survey"><em>Loading...</em></p>

<div *ngIf="survey">
  <h1>Results for {{survey.surveyName}}</h1>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3>Multiple Choice Answers</h3>
    </div>
    <div class="panel-body">
      <div *ngFor="let question of multipleChoiceQuestions">
        <h4>{{ question.questionText }}</h4>
        <table class='table'>
          <thead>
            <tr>
              <th>A. {{question.answerA.answer}}</th>
              <th>B. {{question.answerB.answer}}</th>
              <th>C. {{question.answerC.answer}}</th>
              <th>D. {{question.answerD.answer}}</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{question.answerA.count}}</td>
              <td>{{question.answerB.count}}</td>
              <td>{{question.answerC.count}}</td>
              <td>{{question.answerD.count}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3>Scale Answers</h3>
    </div>
    <div class="panel-body">
      <div *ngFor="let question of scaleQuestions">
        <h4>{{ question.questionText }}</h4>
        <canvas baseChart
                [data]="question.frequency"
                [labels]="question.labels"
                [chartType]="'pie'"></canvas>
      </div>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3>Text Answers</h3>
    </div>
    <div class="panel-body">
      <div *ngFor="let question of textQuestions">
        <h4>{{ question.questionText }}</h4>
        <ul>
          <li *ngFor="let answer of question.answers">
            {{answer}}
          </li>
        </ul>
      </div>
    </div>
  </div>

</div>
